/* ===== NAVIGATION COMPONENTS ===== */

/* ===== NAVIGATION TABS (Keep these visible!) ===== */
.nav-tabs {
  display: flex; /* IMPORTANT: Keep the nav tabs visible */
  background: var(--color-white);
  border-radius: 0; /* Seamless connection to header */
  box-shadow: none;
  margin: 0; /* No margins for seamless connection */
  padding: 0;
  overflow-x: auto;
  border: none;
  border-bottom: 1px solid var(--border-light);
}

.nav-tab {
  flex: 1;
  padding: 15px var(--spacing-lg);
  background: none;
  border: none;
  color: var(--text-light);
  cursor: pointer;
  transition: all var(--transition-medium);
  font-weight: var(--font-weight-normal);
  font-size: var(--font-size-lg);
  border-bottom: 3px solid transparent;
  white-space: nowrap;
  -webkit-app-region: no-drag;
  display: block; /* ENSURE nav tabs are visible */
}

.nav-tab:hover {
  background: var(--color-light);
  color: var(--color-primary);
}

.nav-tab.active {
  color: var(--color-primary);
  background: var(--color-primary-light);
  border-bottom-color: var(--color-primary);
  font-weight: var(--font-weight-medium);
  display: block; /* ENSURE active nav tabs are visible */
}

/* ===== TAB CONTENT (Hide/show content areas) ===== */
.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

/* ===== TAB HEADERS (Hide/show header content within tabs) ===== */
/* ONLY apply hiding rules to actual header content, NOT navigation */
.tab-header-content {
  display: none; /* Hide tab header content by default */
  text-align: right; /* Right align when visible */
}

.tab-header-content.active {
  display: block; /* Show active tab header content */
  text-align: right; /* Right align the active header */
}

/* SPECIFIC ID-based rules - be more specific to avoid conflicts */
#portfolio-tab-header,
#evolution-tab-header,
#chart-tab-header,
#sales-history-tab-header,
#grant-history-tab-header {
  display: none; /* Hide specific tab headers by default */
  text-align: right;
}

#portfolio-tab-header.active,
#evolution-tab-header.active,
#chart-tab-header.active,
#sales-history-tab-header.active,
#grant-history-tab-header.active {
  display: block; /* Show specific active tab headers */
  text-align: right;
}

/* ===== TAB HEADER CONTROLS ALIGNMENT ===== */
.tab-header-content .controls,
.tab-header-content .table-controls,
.tab-header-content .evolution-controls,
.tab-header-content .chart-controls {
  display: flex;
  justify-content: flex-end; /* Align controls to the right */
  gap: var(--spacing-sm);
}

/* ===== SECTION HEADERS IN TABS ===== */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-lg);
}

/* Right-align section header content when in tab headers */
.tab-header-content .section-header {
  justify-content: flex-end;
  text-align: right;
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
@media (max-width: 768px) {
  .nav-tabs {
    overflow-x: auto;
  }

  .nav-tab {
    flex: none;
    min-width: 120px;
  }
}
.tab-content.active {
  display: flex !important; /* Force flex layout */
  flex-direction: column !important;
  height: auto !important; /* Remove any fixed height */
  overflow: visible !important; /* Remove any overflow settings */
  flex: 1; /* Take remaining space */
  min-height: 0; /* Important: allows flex shrinking */
}
