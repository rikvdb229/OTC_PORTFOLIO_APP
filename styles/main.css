:root{--col-mobile-factor:0.85;--col-tablet-factor:0.92;--color-primary:#1e88e5;--color-primary-dark:#1976d2;--color-primary-light:#e3f2fd;--color-success:#28a745;--color-success-light:#20c997;--color-danger:#dc3545;--color-danger-dark:#c82333;--color-warning:#ffc107;--color-warning-dark:#856404;--color-info:#17a2b8;--color-white:#ffffff;--color-light:#f8f9fa;--color-lighter:#e9ecef;--color-gray:#6c757d;--color-dark:#333333;--bg-primary:linear-gradient(135deg, #1e88e5, #1976d2);--border-light:#e9ecef;--border-medium:#ddd;--text-primary:#495057;--text-secondary:#6c757d;--text-muted:#999;--text-light:#666;--spacing-xs:4px;--spacing-sm:8px;--spacing-md:12px;--spacing-lg:20px;--spacing-xl:30px;--font-family-base:"Segoe UI",-apple-system,BlinkMacSystemFont,"Helvetica Neue",Arial,sans-serif;--font-family-mono:"Segoe UI",monospace;--font-size-xs:10px;--font-size-sm:11px;--font-size-base:12px;--font-size-md:13px;--font-size-lg:14px;--font-size-xxl:18px;--font-weight-normal:500;--font-weight-medium:600;--font-weight-bold:700;--shadow-md:0 2px 8px rgba(0, 0, 0, 0.1);--border-radius-sm:3px;--border-radius-md:4px;--border-radius-lg:6px;--border-radius-xl:8px;--transition-fast:0.2s;--transition-medium:0.3s;--z-modal:1001}*,::after,::before{box-sizing:border-box}html{height:100%}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;margin:0;padding:0;height:100vh;min-height:100vh;overflow:hidden;background-color:#f5f5f5;line-height:1.6;color:var(--text-primary);display:flex;flex-direction:column}h1,h3,h4,h5{margin:0;font-weight:var(--font-weight-medium)}p{margin:0}button{font-family:inherit;font-size:inherit}input,select,textarea{font-family:inherit}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--color-lighter);border-radius:var(--border-radius-md)}::-webkit-scrollbar-thumb{background:var(--color-gray);border-radius:var(--border-radius-md)}::-webkit-scrollbar-thumb:hover{background:var(--text-primary)}.modal-content{overflow-y:auto;overflow-x:hidden}.existing-grants-list{overflow-y:auto;overflow-x:hidden}.status-output{overflow-y:auto;overflow-x:hidden}.settings-sidebar{overflow-y:auto;overflow-x:hidden}.nav-tabs{overflow-x:auto;overflow-y:visible}.section{background:var(--color-white);padding:var(--spacing-lg);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-md);margin-bottom:var(--spacing-lg)}.summary-card{background:var(--color-light);padding:15px;border-radius:var(--border-radius-lg);border:1px solid var(--border-light);text-align:center}.summary-card h4{margin:0 0 var(--spacing-sm) 0;color:var(--text-light);font-size:var(--font-size-base);text-transform:uppercase;letter-spacing:.5px}.summary-value{font-size:var(--font-size-xxl);font-weight:var(--font-weight-bold);color:var(--color-primary)}.main-content{flex:1;min-height:0;overflow:hidden;display:flex;flex-direction:column}.tab-content{flex:1;min-height:0;overflow:hidden}.tab-content.active{display:flex!important;flex-direction:column!important;height:auto!important;overflow:visible!important}.scrollable-content{flex:1;min-height:0;overflow:visible;padding:var(--spacing-lg);display:flex;flex-direction:column}.chart-container{flex:1;min-height:0;overflow:visible;padding:var(--spacing-lg)}.app-footer{background:var(--color-light);border-top:1px solid var(--border-light);padding:var(--spacing-lg);margin-top:var(--spacing-xl);color:var(--text-secondary);font-size:var(--font-size-sm);flex-shrink:0;border-radius:var(--border-radius-lg);box-shadow:0 -2px 8px rgba(0,0,0,.05);text-align:center}.footer-content{text-align:center}.footer-text{text-align:center}.version-info{font-weight:var(--font-weight-bold);color:var(--color-primary);font-size:var(--font-size-base)}.footer-divider{color:var(--text-muted);margin:0 4px}.footer-note{font-style:italic;color:var(--text-secondary)}.build-info{color:var(--text-muted);font-size:var(--font-size-xs)}@media (max-width:768px){.app-footer{padding:var(--spacing-md)}.footer-text{line-height:1.6}.footer-divider{display:none}.build-info,.footer-note,.version-info{display:block;margin:2px 0}}.app-footer{background:var(--color-light);border-top:1px solid var(--border-light);padding:var(--spacing-lg);margin-top:var(--spacing-xl);color:var(--text-secondary);font-size:var(--font-size-sm);flex-shrink:0;border-radius:var(--border-radius-lg);box-shadow:0 -2px 8px rgba(0,0,0,.05);text-align:center;min-height:60px;box-sizing:border-box}.header{background:linear-gradient(135deg,#1e3d59 0,#0ea5e9 50%,#0284c7 100%);color:#fff;padding:16px 30px;display:flex;justify-content:space-between;align-items:center;min-height:70px}.header-brand{display:flex;align-items:center;flex-grow:1}.header-logo{height:55px;width:auto;max-width:none;filter:brightness(1.3) contrast(1.2)}.header-actions{display:flex;align-items:center;gap:12px;height:100%}.header-notification{padding:14px 18px;font-size:16px;min-height:44px;background:rgba(255,193,7,.95);color:#856404;border:2px solid rgba(255,193,7,.3);border-radius:8px;display:flex;align-items:center;gap:8px;box-sizing:border-box;white-space:nowrap}#priceUpdateNotification{padding:0 18px!important}.header-actions{display:flex;align-items:center!important;gap:12px}#priceUpdateNotification,#settingsToggle,#updatePricesBtn{height:44px!important;padding:0 18px!important;box-sizing:border-box!important;display:flex!important;align-items:center!important;justify-content:center!important}.notification-icon{font-size:16px;flex-shrink:0}.notification-text{flex:1;overflow:hidden;text-overflow:ellipsis}.header-btn{display:flex;align-items:center;justify-content:center;padding:12px 20px;border:2px solid transparent;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;text-decoration:none;height:44px;box-sizing:border-box;min-width:140px;white-space:nowrap;font-family:inherit}#priceUpdateNotification,#settingsToggle,#updatePricesBtn{display:flex!important;align-items:center!important;justify-content:center!important;gap:8px!important;padding:0 18px!important;border-radius:8px!important;font-size:14px!important;font-weight:600!important;height:44px!important;box-sizing:border-box!important;white-space:nowrap!important;border:2px solid transparent!important;transition:all .3s ease!important;margin:0!important;min-width:140px!important}#updatePricesBtn{background:linear-gradient(135deg,#3b82f6,#1d4ed8)!important;color:#fff!important;border-color:#1d4ed8!important;box-shadow:0 2px 8px rgba(59,130,246,.3)!important}#settingsToggle{background:rgba(255,255,255,.9)!important;color:#374151!important;border-color:rgba(255,255,255,.3)!important;box-shadow:0 2px 8px rgba(0,0,0,.1)!important}@keyframes slideInRight{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}@media (max-width:768px){.header{padding:12px 20px;flex-direction:column;gap:15px;min-height:auto}.header-actions{gap:8px;flex-wrap:wrap;justify-content:center}.header-notification{min-width:auto;font-size:13px;padding:10px 14px;height:40px}.header-btn{height:40px;padding:10px 16px;font-size:13px;min-width:120px}.header-logo{height:45px}}.main-header{flex-shrink:0;position:sticky;top:0;z-index:300;background:0 0}.nav-tabs{display:flex;background:var(--color-white);border-radius:0;box-shadow:none;margin:0;padding:0;overflow-x:auto;border:none;border-bottom:1px solid var(--border-light)}#priceUpdateNotification{margin:0!important;margin-bottom:0!important}.nav-tab{flex:1;padding:15px var(--spacing-lg);background:0 0;border:none;color:var(--text-light);cursor:pointer;transition:all var(--transition-medium);font-weight:var(--font-weight-normal);font-size:var(--font-size-lg);border-bottom:3px solid transparent;white-space:nowrap;-webkit-app-region:no-drag}.nav-tab:hover{background:var(--color-light);color:var(--color-primary)}.nav-tab.active{color:var(--color-primary);background:var(--color-primary-light);border-bottom-color:var(--color-primary);font-weight:var(--font-weight-medium)}.global-portfolio-header{background:var(--color-white);padding:var(--spacing-lg);border-radius:0 0 var(--border-radius-xl) var(--border-radius-xl);box-shadow:none;margin:0 0 var(--spacing-lg) 0;border-bottom:1px solid var(--border-light)}.global-portfolio-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-lg);width:100%}.global-portfolio-stats .stat-card{text-align:center;padding:15px;border-radius:var(--border-radius-lg);border:1px solid var(--border-light);background:var(--color-light)}.global-portfolio-stats .stat-card:first-child{background:var(--color-light);border:1px solid var(--border-light)}.global-portfolio-stats .stat-card h4{margin:0 0 var(--spacing-sm) 0;color:var(--text-light);font-size:var(--font-size-base);text-transform:uppercase;letter-spacing:.5px}.global-portfolio-stats .stat-value{font-size:var(--font-size-xxl);font-weight:var(--font-weight-bold);color:var(--color-primary);margin-bottom:var(--spacing-xs)}.global-portfolio-stats .stat-note{font-size:var(--font-size-xs);color:var(--text-muted);margin-top:2px;display:block}.stat-change.positive{color:var(--color-success)!important;font-weight:var(--font-weight-bold)}.stat-change.negative{color:var(--color-danger)!important;font-weight:var(--font-weight-bold)}.stat-change{font-size:var(--font-size-lg);font-weight:var(--font-weight-medium);color:var(--text-muted);margin-top:var(--spacing-xs)}.stat-value.positive{color:var(--color-success)!important}.stat-value.negative{color:var(--color-danger)!important}.global-portfolio-stats .stat-value{font-size:var(--font-size-xxl);font-weight:var(--font-weight-bold);margin-bottom:var(--spacing-xs);color:var(--color-primary)}.tab-header{flex-shrink:0;background:var(--color-white);border-bottom:1px solid var(--border-light);position:sticky;top:0;z-index:200;margin:0}.tab-header-content{display:none;text-align:right}.tab-header-content.active{display:block;text-align:right}.portfolio-tab-header{padding:var(--spacing-md) var(--spacing-lg);display:flex;justify-content:flex-end;align-items:center;gap:var(--spacing-md);background:var(--color-white)}.controls-tab-header{padding:var(--spacing-md);display:flex;justify-content:flex-end;align-items:center;gap:var(--spacing-sm);background:var(--color-white)}.summary-tab-header{padding:var(--spacing-md) var(--spacing-lg);background:var(--color-white);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-lg)}.summary-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--spacing-md);flex:1}.summary-cards .summary-card{background:var(--color-light);padding:12px 16px;border-radius:var(--border-radius-lg);border:1px solid var(--border-light);text-align:center;min-width:120px}.summary-cards .summary-card h4{margin:0 0 var(--spacing-xs) 0;color:var(--text-light);font-size:var(--font-size-sm);text-transform:uppercase;letter-spacing:.5px;font-weight:var(--font-weight-medium)}.summary-cards .summary-value{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);color:var(--color-primary);margin:0}.grant-modern-filters{display:flex;gap:var(--spacing-xs);align-items:center}.filter-toggle{padding:var(--spacing-xs) var(--spacing-sm);border:2px solid var(--border-light);border-radius:var(--border-radius-md);background:var(--color-white);cursor:pointer;transition:all var(--transition-medium);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium)}.filter-toggle.active{background:var(--color-primary);border-color:var(--color-primary);color:var(--color-white)}.filter-toggle:hover{transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.1)}.filter-label{display:block}@media (max-width:1200px){.summary-cards{gap:var(--spacing-sm)}.summary-cards .summary-card{padding:10px 12px;min-width:100px}.summary-cards .summary-value{font-size:var(--font-size-base)}}@media (max-width:768px){.summary-tab-header{flex-direction:column;gap:var(--spacing-md)}.summary-cards{grid-template-columns:1fr;gap:var(--spacing-sm)}.grant-modern-filters{justify-content:center;flex-wrap:wrap}}@media (max-width:1200px){.header-actions{gap:var(--spacing-xs)}}@media (max-width:768px){body{padding-top:var(--spacing-lg)}.header{margin-right:0;flex-direction:column;gap:15px;text-align:center;padding:15px}.header-brand{align-items:center}.header-actions{width:100%;justify-content:center;gap:var(--spacing-xs)}.global-portfolio-stats{grid-template-columns:repeat(2,1fr);gap:15px}.global-portfolio-header{padding:15px}.nav-tabs{overflow-x:auto}.nav-tab{flex:none;min-width:120px}}.nav-tabs{display:flex;background:var(--color-white);border-radius:0;box-shadow:none;margin:0;padding:0;overflow-x:auto;border:none;border-bottom:1px solid var(--border-light)}.nav-tab{flex:1;padding:15px var(--spacing-lg);background:0 0;border:none;color:var(--text-light);cursor:pointer;transition:all var(--transition-medium);font-weight:var(--font-weight-normal);font-size:var(--font-size-lg);border-bottom:3px solid transparent;white-space:nowrap;-webkit-app-region:no-drag;display:block}.nav-tab:hover{background:var(--color-light);color:var(--color-primary)}.nav-tab.active{color:var(--color-primary);background:var(--color-primary-light);border-bottom-color:var(--color-primary);font-weight:var(--font-weight-medium);display:block}.tab-content{display:none}.tab-content.active{display:block}.tab-header-content{display:none;text-align:right}.tab-header-content.active{display:block;text-align:right}#chart-tab-header,#evolution-tab-header,#grant-history-tab-header,#portfolio-tab-header,#sales-history-tab-header{display:none;text-align:right}#chart-tab-header.active,#evolution-tab-header.active,#grant-history-tab-header.active,#portfolio-tab-header.active,#sales-history-tab-header.active{display:block;text-align:right}.tab-header-content .controls{display:flex;justify-content:flex-end;gap:var(--spacing-sm)}@media (max-width:768px){.nav-tabs{overflow-x:auto}.nav-tab{flex:none;min-width:120px}}.tab-content.active{display:flex!important;flex-direction:column!important;height:auto!important;overflow:visible!important;flex:1;min-height:0}.header-notification.info{background:linear-gradient(135deg,#e3f2fd,#bbdefb);border:1px solid #64b5f6;border-left:4px solid #2196f3;color:#1565c0;box-shadow:0 2px 8px rgba(33,150,243,.15)}.header-notification.info::before{background:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(33,150,243,.03) 2px,rgba(33,150,243,.03) 4px)}.header-notification.info .notification-text{color:#1565c0}.header-notification.warning{background:linear-gradient(135deg,#fff8e1,#ffecb3);border:1px solid #ffb74d;border-left:4px solid #f57c00;color:#e65100;box-shadow:0 2px 8px rgba(245,124,0,.15)}.header-notification.warning::before{background:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(245,124,0,.03) 2px,rgba(245,124,0,.03) 4px)}.header-notification.warning .notification-text{color:#e65100}.header-notification.success{background:linear-gradient(135deg,#e8f5e8,#c8e6c9);border:1px solid #81c784;border-left:4px solid #4caf50;color:#2e7d32;box-shadow:0 2px 8px rgba(76,175,80,.15)}.header-notification.success::before{background:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(76,175,80,.03) 2px,rgba(76,175,80,.03) 4px)}.header-notification.success .notification-text{color:#2e7d32}.header-notification.error{background:linear-gradient(135deg,#ffebee,#ffcdd2);border:1px solid #e57373;border-left:4px solid #f44336;color:#c62828;box-shadow:0 2px 8px rgba(244,67,54,.15)}.header-notification.error::before{background:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(244,67,54,.03) 2px,rgba(244,67,54,.03) 4px)}.header-notification.error .notification-text{color:#c62828}@media (max-width:768px){.header-notification.error .notification-text,.header-notification.info .notification-text,.header-notification.success .notification-text,.header-notification.warning .notification-text{font-size:11px;font-weight:600}}.btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 20px;border:2px solid transparent;border-radius:var(--border-radius-md);font-size:var(--font-size-base);font-weight:var(--font-weight-medium);text-decoration:none;cursor:pointer;transition:all var(--transition-medium);white-space:nowrap;-webkit-app-region:no-drag;gap:var(--spacing-xs);min-height:40px}.btn-primary{background:var(--color-primary);color:var(--color-white);border-color:var(--color-primary)}.btn-primary:hover:not(:disabled){background:var(--color-primary-dark);border-color:var(--color-primary-dark);transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,.15)}.btn-secondary{background:var(--color-light);color:var(--text-primary);border-color:var(--border-light)}.btn-secondary:hover:not(:disabled){background:var(--color-lighter);border-color:var(--color-primary);color:var(--color-primary);transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,.1)}.btn-small{padding:var(--spacing-xs) var(--spacing-md);font-size:var(--font-size-sm)}.btn-full{width:100%}#updatePricesBtn{position:relative;transition:all .3s ease;padding:14px 24px;font-size:16px;min-height:44px}.header-notification.warning:not([style*="display: none"])+#updatePricesBtn{animation:pulseGlowWarning 2s infinite}.header-notification.info:not([style*="display: none"])+#updatePricesBtn{animation:pulseGlowInfo 3s infinite}.header-notification.error:not([style*="display: none"])+#updatePricesBtn{animation:pulseGlowError 1.5s infinite}@keyframes pulseGlowWarning{0%{box-shadow:0 0 0 0 rgba(245,124,0,.4)}50%{box-shadow:0 0 0 8px rgba(245,124,0,0)}100%{box-shadow:0 0 0 0 rgba(245,124,0,0)}}@keyframes pulseGlowInfo{0%{box-shadow:0 0 0 0 rgba(33,150,243,.3)}50%{box-shadow:0 0 0 6px rgba(33,150,243,0)}100%{box-shadow:0 0 0 0 rgba(33,150,243,0)}}@keyframes pulseGlowError{0%{box-shadow:0 0 0 0 rgba(244,67,54,.5)}50%{box-shadow:0 0 0 10px rgba(244,67,54,0)}100%{box-shadow:0 0 0 0 rgba(244,67,54,0)}}#updatePricesBtn.btn-primary:hover:not(:disabled){background:linear-gradient(135deg,var(--color-primary-dark),var(--color-primary-darker));transform:translateY(-1px);box-shadow:0 4px 12px rgba(30,136,229,.3)}.header-notification:not([style*="display: none"])~#settingsToggle{opacity:.7;transition:opacity .3s ease}.header-notification:not([style*="display: none"])~#settingsToggle:hover{opacity:1}#settingsToggle{padding:0 18px;font-size:16px;min-height:44px}#settingsToggle.btn-secondary:hover:not(:disabled){background:var(--color-white);border-color:var(--color-primary);color:var(--color-primary)}.header-notification:not([style*="display: none"])~#settingsToggle{opacity:.7;transition:opacity .3s ease}.header-notification:not([style*="display: none"])~#settingsToggle:hover{opacity:1}@media (max-width:768px){.btn{padding:var(--spacing-xs) var(--spacing-sm);font-size:var(--font-size-sm)}.btn-small{padding:4px var(--spacing-xs);font-size:var(--font-size-xs)}#updatePricesBtn{animation:none!important}}@keyframes pulseGlow{0%{box-shadow:0 0 0 0 rgba(30,136,229,.4)}50%{box-shadow:0 0 0 8px rgba(30,136,229,0)}100%{box-shadow:0 0 0 0 rgba(30,136,229,0)}}.btn-danger{background:var(--color-danger);color:var(--color-white);border-color:var(--color-danger)}.btn-danger:hover:not(:disabled){background:var(--color-danger-dark);border-color:var(--color-danger-dark);transform:translateY(-1px);box-shadow:0 4px 8px rgba(220,53,69,.3)}.btn-danger:disabled{background:#f8d7da;color:#721c24;border-color:#f1aeb5;cursor:not-allowed;opacity:.65}.btn-danger:disabled:hover{transform:none;box-shadow:none}#deleteDatabaseBtn{margin-top:var(--spacing-sm);position:relative;overflow:hidden}#deleteDatabaseBtn::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}#deleteDatabaseBtn:hover::before{left:100%}#deleteDatabaseModal .modal-content{max-width:600px;border:3px solid var(--color-danger)}#deleteDatabaseModal .modal-header{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;text-align:center}#deleteDatabaseModal .modal-header h3{margin:0;font-size:1.25rem;font-weight:700}.delete-database-warning{background:#fff5f5;border:2px solid #fed7d7;border-radius:var(--border-radius-md);padding:var(--spacing-lg);margin:var(--spacing-md) 0}.warning-header{text-align:center;margin-bottom:var(--spacing-lg);padding:var(--spacing-md);background:#fed7d7;border-radius:var(--border-radius-sm)}.warning-header p{margin:0;font-size:1.1rem;font-weight:700;color:var(--color-danger)}.warning-content{line-height:1.6}.warning-consequences,.warning-details{margin:var(--spacing-lg) 0;padding:var(--spacing-md);background:#fff;border-radius:var(--border-radius-sm);border-left:4px solid var(--color-danger)}.warning-consequences ul,.warning-details ul{margin:var(--spacing-sm) 0;padding-left:var(--spacing-lg)}.warning-consequences li,.warning-details li{margin:var(--spacing-xs) 0;color:var(--color-danger);font-weight:500}.confirmation-requirement{margin-top:var(--spacing-xl);padding:var(--spacing-lg);background:#f8f9fa;border:2px dashed var(--color-danger);border-radius:var(--border-radius-md);text-align:center}.confirmation-text{display:inline-block;background:var(--color-danger);color:#fff;padding:var(--spacing-xs) var(--spacing-md);border-radius:var(--border-radius-sm);font-family:monospace;font-size:1rem;font-weight:700;margin:var(--spacing-sm) 0}.confirmation-input-group{margin-top:var(--spacing-lg);text-align:left}.confirmation-input-group label{display:block;margin-bottom:var(--spacing-xs);font-weight:700;color:var(--color-danger)}#deleteDatabaseConfirmText{width:100%;padding:var(--spacing-md);border:2px solid var(--border-light);border-radius:var(--border-radius-sm);font-size:1rem;font-family:monospace;background:#fff;transition:border-color .3s ease}#deleteDatabaseConfirmText:focus{outline:0;border-color:var(--color-danger);box-shadow:0 0 0 3px rgba(220,53,69,.1)}#deleteDatabaseConfirmText.valid{border-color:var(--color-success);background:#f8fff8}#deleteDatabaseConfirmText.invalid{border-color:var(--color-danger);background:#fff8f8}#deleteDatabaseModal .modal-footer{background:#f8f9fa;border-top:2px solid var(--border-light);padding:var(--spacing-lg);display:flex;justify-content:space-between;gap:var(--spacing-md)}#deleteDatabaseModal .modal-footer .btn{flex:1;min-width:120px}@media (max-width:768px){#deleteDatabaseModal .modal-content{margin:var(--spacing-md);max-width:calc(100vw - 2rem)}.delete-database-warning{padding:var(--spacing-md)}.warning-consequences,.warning-details{padding:var(--spacing-sm)}#deleteDatabaseModal .modal-footer{flex-direction:column}}.form-group{margin-bottom:15px}.form-group label{display:block;margin-bottom:var(--spacing-xs);font-weight:var(--font-weight-medium);color:var(--color-dark);font-size:var(--font-size-md)}.form-group input,.form-group select,.form-group textarea{width:100%;padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-medium);border-radius:var(--border-radius-md);font-size:var(--font-size-md);transition:border-color var(--transition-medium)}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:0;border-color:var(--color-primary);box-shadow:0 0 0 3px rgba(0,122,204,.1)}.form-help{color:var(--text-secondary);font-size:var(--font-size-sm);margin-top:3px;display:block}.input-group{display:flex;align-items:center;border:1px solid var(--border-medium);border-radius:var(--border-radius-md);overflow:hidden;transition:border-color var(--transition-medium)}.input-group:focus-within{border-color:var(--color-primary);box-shadow:0 0 0 3px rgba(0,122,204,.1)}.input-group input{border:none;flex:1;padding:var(--spacing-sm) var(--spacing-md);font-size:var(--font-size-md)}.input-group input:focus{outline:0;box-shadow:none}.input-prefix,.input-suffix{background:var(--color-light);border:none;padding:var(--spacing-sm) var(--spacing-md);font-size:var(--font-size-md);color:var(--text-primary)}.database-actions{display:flex;flex-direction:column;gap:var(--spacing-sm);margin-top:var(--spacing-md)}.tax-info{display:block;color:#1565c0;font-size:var(--font-size-sm);margin-top:5px;background:#e3f2fd;border:1px solid #bbdefb;border-radius:var(--border-radius-md);padding:var(--spacing-lg) var(--spacing-sm)}.checkbox-label{display:flex;align-items:center;cursor:pointer;font-weight:var(--font-weight-medium);color:var(--color-dark);font-size:var(--font-size-md)}.checkbox-label input[type=checkbox]{display:none}.checkmark{width:16px;height:16px;border:2px solid var(--border-medium);border-radius:var(--border-radius-sm);margin-right:var(--spacing-sm);display:flex;align-items:center;justify-content:center;transition:all var(--transition-medium)}.checkbox-label input[type=checkbox]:checked+.checkmark{background:var(--color-primary);border-color:var(--color-primary)}.checkbox-label input[type=checkbox]:checked+.checkmark::after{content:"✓";color:var(--color-white);font-weight:var(--font-weight-bold);font-size:var(--font-size-sm)}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:var(--z-modal);backdrop-filter:blur(4px)}.modal.active{display:flex;align-items:center;justify-content:center}.modal-content{background:var(--color-white);border-radius:var(--border-radius-xl);box-shadow:var(--shadow-xl);max-width:500px;width:90%;max-height:90vh;overflow-y:auto}.modal-large{max-width:800px}.modal-header{padding:15px var(--spacing-lg);border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center;background:var(--color-light)}.modal-header h3{margin:0;color:var(--color-dark);font-size:var(--font-size-xl)}.modal-body{padding:var(--spacing-lg)}.modal-footer{padding:15px var(--spacing-lg);border-top:1px solid var(--border-light);display:flex;gap:var(--spacing-md);justify-content:flex-end;background:var(--color-light)}.existing-grants-list{margin:15px 0;border:1px solid var(--border-light);border-radius:var(--border-radius-lg);background:var(--color-white);max-height:200px;overflow-y:auto}.grant-selection-item{padding:var(--spacing-md) 15px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background var(--transition-fast);display:flex;align-items:center;gap:var(--spacing-md);min-height:60px}.grant-selection-item:hover{background:var(--color-light)}.existing-grants-list.disabled{opacity:.5;pointer-events:none;background-color:#f8f9fa;position:relative}.existing-grants-list.disabled::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(255,255,255,.3) 10px,rgba(255,255,255,.3) 20px);pointer-events:none;z-index:1}.existing-grants-list.disabled .grant-selection-item{color:#6c757d;background-color:#f8f9fa;cursor:not-allowed}.existing-grants-list.disabled .grant-selection-item input[type=radio]{opacity:.5;cursor:not-allowed}.existing-grants-list.disabled .grant-selection-item label{cursor:not-allowed}#settingsOverlay{z-index:9999!important;background:rgba(0,0,0,.5)!important;position:fixed!important}.controls-tab-header,.tab-header-content{z-index:1!important}#deleteDatabaseModal{z-index:10500!important}#deleteDatabaseModal .modal-content{z-index:10501!important}.header-notification{border-radius:var(--border-radius-md);padding:var(--spacing-xs) var(--spacing-sm);margin-right:var(--spacing-sm);display:flex;align-items:center;gap:var(--spacing-xs);font-size:var(--font-size-sm);animation:slideInRight .3s ease-out;max-width:200px;white-space:nowrap;overflow:hidden;position:relative;cursor:help;padding:14px 18px;font-size:16px;min-height:44px;box-sizing:border-box}#priceUpdateNotification.notification.info,.header-notification.notification.info{background:#f0fdfa!important;border:1px solid #5eead4!important;border-left:4px solid #14b8a6!important;color:#0f766e!important;box-shadow:0 2px 4px rgba(0,0,0,.1)!important}#priceUpdateNotification.notification.info::before,.header-notification.notification.info::before{display:none!important}#priceUpdateNotification.notification.info .notification-text,.header-notification.notification.info .notification-text{color:#0f766e!important;font-weight:600!important}#priceUpdateNotification.notification.info .notification-icon,.header-notification.notification.info .notification-icon{color:#0f766e!important}#priceUpdateNotification.notification.info,.header-notification.notification.info{background:linear-gradient(135deg,#f0fdfa,#ccfbf1)!important;border:1px solid #5eead4!important;border-left:4px solid #14b8a6!important;color:#0f766e!important;box-shadow:0 2px 8px rgba(20,184,166,.2)!important}#priceUpdateNotification.notification.info .notification-text,.header-notification.notification.info .notification-text{color:#0f766e!important;font-weight:600!important}#priceUpdateNotification.notification.info .notification-icon,.header-notification.notification.info .notification-icon{color:#0f766e!important}.header-notification.info{background:linear-gradient(135deg,#f0fdfa,#ccfbf1);border:1px solid #5eead4;border-left:4px solid #14b8a6;color:#0f766e;box-shadow:0 2px 8px rgba(20,184,166,.2)}.header-notification.info::before{background:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(20,184,166,.03) 2px,rgba(20,184,166,.03) 4px)}.header-notification.info .notification-text{color:#0f766e;font-weight:600}.header-notification.warning{background:linear-gradient(135deg,#fff8e1,#ffecb3);border:1px solid #ffb74d;border-left:4px solid #f57c00;color:#e65100;box-shadow:0 2px 8px rgba(245,124,0,.15)}.header-notification.warning::before{background:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(245,124,0,.03) 2px,rgba(245,124,0,.03) 4px)}.header-notification.warning .notification-text{color:#e65100}.header-notification.success{background:linear-gradient(135deg,#e8f5e8,#c8e6c9);border:1px solid #81c784;border-left:4px solid #4caf50;color:#2e7d32;box-shadow:0 2px 8px rgba(76,175,80,.15)}.header-notification.success::before{background:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(76,175,80,.03) 2px,rgba(76,175,80,.03) 4px)}.header-notification.success .notification-text{color:#2e7d32}.header-notification.error{background:linear-gradient(135deg,#ffebee,#ffcdd2);border:1px solid #e57373;border-left:4px solid #f44336;color:#c62828;box-shadow:0 2px 8px rgba(244,67,54,.15)}.header-notification.error::before{background:repeating-linear-gradient(45deg,transparent,transparent 2px,rgba(244,67,54,.03) 2px,rgba(244,67,54,.03) 4px)}.header-notification.error .notification-text{color:#c62828}.header-notification:hover::after{content:attr(title);position:absolute;bottom:-35px;left:0;background:var(--color-dark);color:var(--color-white);padding:6px 10px;border-radius:6px;font-size:11px;white-space:nowrap;z-index:1000;animation:fadeIn .2s ease-in;box-shadow:0 2px 8px rgba(0,0,0,.2)}@keyframes slideInRight{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}@keyframes fadeIn{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}@media (max-width:1200px){.header-notification{max-width:160px}.header-notification .notification-text{max-width:100px}}@media (max-width:768px){.header-notification{max-width:140px;margin-right:var(--spacing-xs);padding:6px var(--spacing-xs)}.header-notification .notification-text{max-width:70px;font-size:11px}.header-notification:hover::after{display:none}.header-notification.error .notification-text,.header-notification.info .notification-text,.header-notification.success .notification-text,.header-notification.warning .notification-text{font-size:11px;font-weight:600}}.progress-bar{width:100%;height:16px;background:#f0f0f0;border-radius:var(--border-radius-xl);overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,var(--color-primary),#00a8ff);transition:width var(--transition-medium);border-radius:var(--border-radius-xl)}.progress-text{margin-top:var(--spacing-sm);text-align:center;color:var(--text-light);font-size:var(--font-size-md);font-weight:var(--font-weight-normal)}.status-output{background:var(--color-light);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);padding:var(--spacing-md);font-family:var(--font-family-mono);font-size:var(--font-size-base);min-height:80px;white-space:pre-wrap;max-height:200px;overflow-y:auto}.table-container{border-radius:var(--border-radius-xl);border:1px solid var(--border-light);box-shadow:var(--shadow-sm);background:var(--color-white);flex:1;min-height:0;overflow-y:auto;overflow-x:auto}.evolution-table,.grant-table,.portfolio-table,.sales-table{width:100%;border-collapse:collapse;background:var(--color-white);font-size:var(--font-size-base);table-layout:fixed}.evolution-table thead,.grant-table thead,.portfolio-table thead,.sales-table thead{position:sticky;top:0;z-index:100;background:var(--color-white)}.evolution-table th,.grant-table th,.portfolio-table th,.sales-table th{background:var(--color-light);padding:var(--spacing-md) var(--spacing-sm);text-align:center;font-weight:var(--font-weight-medium);color:var(--text-primary);border-right:1px solid #f0f0f0;font-size:var(--font-size-base);position:relative;vertical-align:middle}.evolution-table th:last-child,.grant-table th:last-child,.portfolio-table th:last-child,.sales-table th:last-child{border-right:none}.evolution-table td,.grant-table td,.portfolio-table td,.sales-table td{padding:var(--spacing-md) var(--spacing-sm);border-bottom:1px solid var(--border-light);vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--font-size-base)}.group-header{background:var(--bg-primary);color:var(--color-white);text-align:center;font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);letter-spacing:.5px;text-transform:uppercase;padding:var(--spacing-md) var(--spacing-sm);border-right:1px solid rgba(255,255,255,.3)}.sortable{cursor:pointer;user-select:none;transition:background var(--transition-fast);position:relative;padding-right:calc(var(--spacing-sm) + 20px)}.sortable:hover{background:#e3f2fd}.sortable::before{content:"▲";position:absolute;right:calc(var(--spacing-xs) + 10px);top:50%;transform:translateY(-50%);font-size:var(--font-size-xs);color:var(--text-muted);opacity:.4}.sortable::after{content:"▼";position:absolute;right:var(--spacing-xs);top:50%;transform:translateY(-50%);font-size:var(--font-size-xs);color:var(--text-muted);opacity:.4}.sortable:hover::after,.sortable:hover::before{opacity:.7}.portfolio-table thead tr:first-child th.group-header{background:var(--bg-primary);color:var(--color-white);text-align:center;font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);letter-spacing:.8px;text-transform:uppercase;padding:var(--spacing-md) var(--spacing-sm);border-right:1px solid rgba(255,255,255,.3)}.portfolio-table{table-layout:auto}.portfolio-table td{text-align:center;font-family:var(--font-family-mono)}.portfolio-table td:nth-child(2){text-align:left;font-family:var(--font-family-base);font-weight:var(--font-weight-medium)}.portfolio-table td:nth-child(4),.portfolio-table td:nth-child(5),.portfolio-table td:nth-child(6),.portfolio-table td:nth-child(7),.portfolio-table td:nth-child(8){text-align:right}.portfolio-table td:nth-child(7),.portfolio-table td:nth-child(9){font-weight:var(--font-weight-medium)}.evolution-table{width:100%;border-collapse:collapse;background:var(--color-white);font-size:var(--font-size-base);table-layout:auto}.evolution-table thead tr:first-child th.group-header{background:var(--bg-primary);color:var(--color-white);text-align:center;font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);letter-spacing:.8px;text-transform:uppercase;padding:var(--spacing-md) var(--spacing-sm);border-right:1px solid rgba(255,255,255,.3)}.evolution-table thead tr:first-child th.group-header:last-child{border-right:none}.evolution-table thead tr:nth-child(2) th{background:var(--color-light);padding:var(--spacing-md) var(--spacing-sm);text-align:center;font-weight:var(--font-weight-medium);color:var(--text-primary);border-bottom:2px solid var(--color-primary);border-right:1px solid var(--border-light);font-size:var(--font-size-sm)}.evolution-table thead tr:nth-child(2) th:last-child{border-right:none}.evolution-table th.sortable{cursor:pointer;user-select:none;transition:background var(--transition-fast);position:relative;padding-right:calc(var(--spacing-sm) + 20px)}.evolution-table th.sortable:hover{background-color:var(--color-primary-light)}.evolution-table .sortable::before{content:"▲";position:absolute;right:calc(var(--spacing-xs) + 10px);top:50%;transform:translateY(-50%);font-size:var(--font-size-xs);color:var(--text-muted);opacity:.4}.evolution-table .sortable::after{content:"▼";position:absolute;right:var(--spacing-xs);top:50%;transform:translateY(-50%);font-size:var(--font-size-xs);color:var(--text-muted);opacity:.4}.evolution-table .sortable:hover::after,.evolution-table .sortable:hover::before{opacity:.7}.evolution-table td:first-child{text-align:center;font-family:var(--font-family-mono);font-size:var(--font-size-sm)}.evolution-table td:nth-child(2),.evolution-table td:nth-child(3){text-align:right;font-family:var(--font-family-mono);font-weight:var(--font-weight-normal)}.evolution-table td:nth-child(4){text-align:center;font-weight:var(--font-weight-medium)}.evolution-table td:nth-child(5){text-align:center;font-family:var(--font-family-mono)}.evolution-table td:nth-child(6){text-align:right;font-size:var(--font-size-sm);overflow:visible;white-space:normal;position:relative;padding-right:50px}.evolution-table .currency.positive,.evolution-table .positive{color:var(--color-success)}.evolution-table .currency.negative,.evolution-table .negative{color:var(--color-danger)}.grant-modern-filters{margin-top:var(--spacing-lg);display:flex;justify-content:center;align-items:center;gap:var(--spacing-md);flex-wrap:wrap}.filter-toggle{display:flex;align-items:center;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius-xl);cursor:pointer;transition:all .3s cubic-bezier(.4, 0, .2, 1);user-select:none;position:relative;min-width:120px;justify-content:center;background:var(--color-primary);color:var(--color-white);border:2px solid var(--color-primary);box-shadow:0 2px 8px rgba(0,123,204,.3)}.filter-toggle:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,123,204,.4)}.filter-toggle.inactive{background:var(--color-white);color:var(--text-secondary);border:2px solid var(--border-light);box-shadow:0 1px 3px rgba(0,0,0,.1)}.filter-toggle.inactive:hover{background:var(--color-light);border-color:var(--color-primary);color:var(--color-primary);box-shadow:0 2px 6px rgba(0,0,0,.15)}.filter-label{font-weight:var(--font-weight-medium);font-size:var(--font-size-sm);letter-spacing:.5px}@media (max-width:768px){.grant-modern-filters{flex-direction:column;gap:var(--spacing-sm)}.filter-toggle{width:100%;max-width:200px}}.grant-table tbody tr{transition:opacity .3s ease,background-color .3s ease}.sales-table{width:100%;border-collapse:collapse;background:var(--color-white);font-size:var(--font-size-base);table-layout:auto}.sales-table thead tr:first-child th.group-header{position:sticky;top:0;z-index:110;background:var(--bg-primary)!important;color:var(--color-white)!important;text-align:center;font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);letter-spacing:.8px;text-transform:uppercase;padding:var(--spacing-md) var(--spacing-sm);border-right:1px solid rgba(255,255,255,.3);border-bottom:none}.sales-table thead tr:first-child th.group-header:last-child{border-right:none}.sales-table thead tr:nth-child(2) th{position:sticky;top:35px;z-index:105;background:var(--color-light)!important;padding:var(--spacing-md) var(--spacing-sm);text-align:center;font-weight:var(--font-weight-medium);color:var(--text-primary);border-right:1px solid var(--border-light);border-bottom:none;font-size:var(--font-size-sm)}.sales-table thead tr:nth-child(2) th:last-child{border-right:none}.sales-table td{padding:var(--spacing-md) var(--spacing-sm);border-bottom:1px solid var(--border-light);vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--font-size-base);text-align:center;font-family:var(--font-family-mono)}.sales-table td:first-child,.sales-table td:nth-child(2){text-align:center;font-family:var(--font-family-mono);font-size:var(--font-size-sm);color:var(--text-primary)}.sales-table td:nth-child(3){text-align:left;font-family:var(--font-family-base);font-weight:var(--font-weight-medium);color:var(--text-primary)}.sales-table td:nth-child(4),.sales-table td:nth-child(5),.sales-table td:nth-child(6),.sales-table td:nth-child(7){text-align:right;font-family:var(--font-family-mono);font-weight:var(--font-weight-normal)}.sales-table td:nth-child(6),.sales-table td:nth-child(7){font-weight:var(--font-weight-medium)}.sales-table td:nth-child(8){text-align:left;font-family:var(--font-family-base);font-style:italic;color:var(--text-secondary);font-size:var(--font-size-sm)}.sales-table td:nth-child(9){text-align:center;padding:var(--spacing-sm) var(--spacing-xs)}.sales-table .currency{font-family:var(--font-family-mono);font-weight:var(--font-weight-normal)}.sales-table .currency.positive{color:var(--color-success)}.sales-table .currency.negative{color:var(--color-danger)}.portfolio-table .currency.positive{color:var(--color-success)!important;font-weight:var(--font-weight-medium)}.portfolio-table .currency.negative{color:var(--color-danger)!important;font-weight:var(--font-weight-medium)}.portfolio-table .positive{color:var(--color-success)!important;font-weight:var(--font-weight-medium)}.portfolio-table .negative{color:var(--color-danger)!important;font-weight:var(--font-weight-medium)}.portfolio-table .positive{color:var(--color-success)!important;font-weight:var(--font-weight-medium)}.portfolio-table .negative{color:var(--color-danger)!important;font-weight:var(--font-weight-medium)}.portfolio-table .currency.positive{color:var(--color-success)!important;font-weight:var(--font-weight-medium)}.portfolio-table .currency.negative{color:var(--color-danger)!important;font-weight:var(--font-weight-medium)}@media (max-width:1200px){.sales-table{font-size:var(--font-size-sm)}.sales-table td{padding:var(--spacing-sm) var(--spacing-xs)}}.sales-table .no-data td{text-align:center;font-style:italic;color:var(--text-light);padding:var(--spacing-xl)}.sales-table tbody tr:hover{background-color:var(--color-light)}.sales-table th.sortable{cursor:pointer;user-select:none}.sales-table th.sortable:hover{background-color:var(--color-primary-light)}.grant-table{width:100%;border-collapse:collapse;background:var(--color-white);font-size:var(--font-size-base);table-layout:auto}.grant-table thead tr:first-child th.group-header{position:sticky;top:0;z-index:110;background:var(--bg-primary)!important;color:var(--color-white)!important;text-align:center;font-weight:var(--font-weight-bold);font-size:var(--font-size-sm);letter-spacing:.8px;text-transform:uppercase;padding:var(--spacing-md) var(--spacing-sm);border-right:1px solid rgba(255,255,255,.3);border-bottom:none}.grant-table thead tr:first-child th.group-header:last-child{border-right:none}.grant-table thead tr:nth-child(2) th{position:sticky;top:35px;z-index:105;background:var(--color-light)!important;padding:var(--spacing-md) var(--spacing-sm);text-align:center;font-weight:var(--font-weight-medium);color:var(--text-primary);border-right:1px solid var(--border-light);border-bottom:none;font-size:var(--font-size-sm)}.grant-table thead tr:nth-child(2) th:last-child{border-right:none}.grant-table td{padding:var(--spacing-md) var(--spacing-sm);border-bottom:1px solid var(--border-light);vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--font-size-base);text-align:center;font-family:var(--font-family-mono)}.grant-table td:first-child{text-align:center;font-family:var(--font-family-mono);font-size:var(--font-size-sm);color:var(--text-primary)}.grant-table td:nth-child(2){text-align:left;font-family:var(--font-family-base);font-weight:var(--font-weight-medium);color:var(--text-primary)}.grant-table td:nth-child(3),.grant-table td:nth-child(4){text-align:center;font-family:var(--font-family-mono);font-weight:var(--font-weight-normal)}.grant-table td:nth-child(5){text-align:center;font-family:var(--font-family-base);font-weight:var(--font-weight-medium)}.grant-table tbody tr:hover{background-color:var(--color-light)}.grant-table th.sortable{cursor:pointer;user-select:none;transition:background var(--transition-fast);position:relative;padding-right:calc(var(--spacing-sm) + 20px)}.grant-table th.sortable:hover{background-color:var(--color-primary-light)}.grant-table .sortable::before{content:"▲";position:absolute;right:calc(var(--spacing-xs) + 10px);top:50%;transform:translateY(-50%);font-size:var(--font-size-xs);color:var(--text-muted);opacity:.4}.grant-table .sortable::after{content:"▼";position:absolute;right:var(--spacing-xs);top:50%;transform:translateY(-50%);font-size:var(--font-size-xs);color:var(--text-muted);opacity:.4}.grant-table .sortable:hover::after,.grant-table .sortable:hover::before{opacity:.7}.grant-table .no-data td{text-align:center;font-style:italic;color:var(--text-light);padding:var(--spacing-xl)}.grant-table .no-data-message{padding:40px var(--spacing-lg);color:var(--text-muted);text-align:center}.grant-table .no-data-message p{margin:0 0 var(--spacing-sm) 0}.grant-table .no-data-message p:last-child{margin-bottom:0}@media (max-width:1200px){.grant-table{font-size:var(--font-size-sm)}.grant-table td{padding:var(--spacing-sm) var(--spacing-xs)}}@media (max-width:768px){.grant-table td:nth-child(3),.grant-table td:nth-child(4){font-size:var(--font-size-sm)}}.grant-table tbody tr.filtered-hidden{display:none}.grant-table tbody tr{transition:all .3s ease}.grant-modern-filters{margin-top:var(--spacing-lg);display:flex;justify-content:center;align-items:center;gap:var(--spacing-md);flex-wrap:wrap}.filter-toggle{display:flex;align-items:center;padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--border-radius-lg);cursor:pointer;transition:all .3s cubic-bezier(.4, 0, .2, 1);user-select:none;position:relative;min-width:120px;justify-content:center;border:2px solid transparent;font-weight:var(--font-weight-medium)}.filter-toggle[data-filter=active].active{background-color:#d4edda;color:#155724;border-color:#c3e6cb;box-shadow:0 2px 8px rgba(21,87,36,.3)}.filter-toggle[data-filter=partially-sold].active{background-color:#fff3cd;color:#856404;border-color:#ffeaa7;box-shadow:0 2px 8px rgba(133,100,4,.3)}.filter-toggle[data-filter=sold].active{background-color:#e2e3e5;color:#495057;border-color:#ced4da;box-shadow:0 2px 8px rgba(73,80,87,.3)}.filter-toggle.inactive{background-color:#f8f9fa;color:#6c757d;border-color:#dee2e6;box-shadow:0 1px 3px rgba(0,0,0,.1);opacity:.6}.filter-toggle.active:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.filter-toggle.inactive:hover{opacity:.8;transform:translateY(-1px);box-shadow:0 2px 6px rgba(0,0,0,.15)}.filter-label{font-size:var(--font-size-sm);letter-spacing:.3px}@media (max-width:768px){.grant-modern-filters{flex-direction:column;gap:var(--spacing-sm)}.filter-toggle{width:100%;max-width:200px}}.chart-container{height:500px;padding:var(--spacing-md);border:1px solid var(--border-light);border-radius:var(--border-radius-lg);background:var(--color-white);box-shadow:var(--shadow-md)}#portfolioChart{width:100%!important;height:100%!important;max-height:520px}#chart-tab .section{padding:15px}.chart-legend{display:flex;justify-content:center;gap:25px;margin-top:15px;padding:var(--spacing-md);background:var(--color-light);border-radius:var(--border-radius-lg);border:1px solid var(--border-light);font-size:var(--font-size-md)}.legend-item{display:flex;align-items:center;gap:var(--spacing-sm);color:var(--text-primary);font-weight:var(--font-weight-normal)}.legend-color{width:14px;height:14px;border-radius:var(--border-radius-sm);display:inline-block;border:1px solid rgba(0,0,0,.1)}.chart-legend{display:flex;justify-content:center;align-items:center;gap:30px;margin-top:20px;padding:var(--spacing-lg);background:var(--color-light);border-radius:var(--border-radius-lg);border:1px solid var(--border-light);font-size:var(--font-size-sm);flex-wrap:wrap}.legend-item{display:flex;align-items:center;gap:var(--spacing-sm);color:var(--text-primary);font-weight:var(--font-weight-medium);white-space:nowrap}.legend-color{width:16px;height:16px;border-radius:var(--border-radius-sm);display:inline-block;border:1px solid rgba(0,0,0,.1);flex-shrink:0}.legend-line{width:4px;height:20px;display:inline-block;background-color:#000;flex-shrink:0;border-radius:2px}@media (max-width:768px){.chart-legend{gap:15px;padding:var(--spacing-md)}.legend-item{gap:6px;font-size:var(--font-size-xs)}.legend-color{width:12px;height:12px}.legend-line{width:3px;height:16px}}@media (max-width:480px){.chart-legend{flex-direction:column;gap:var(--spacing-sm);text-align:center}.legend-item{justify-content:center}}.settings-sidebar{position:fixed;top:0;right:-400px;width:400px;height:100vh;background:var(--color-white);box-shadow:-5px 0 var(--spacing-lg) rgba(0,0,0,.1);z-index:var(--z-modal);transition:right var(--transition-medium) ease;overflow-y:auto}.settings-sidebar.active{right:0}.settings-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:var(--z-dropdown);opacity:0;visibility:hidden;transition:all var(--transition-medium)}.settings-overlay.active{opacity:1;visibility:visible}.settings-header{padding:var(--spacing-lg);border-bottom:1px solid var(--border-light);display:flex;justify-content:flex-start;align-items:center;background:var(--color-light)}.settings-header h3{margin:0;color:var(--color-dark);font-size:var(--font-size-xxl)}.settings-content{padding:var(--spacing-lg)}.setting-item{margin-bottom:var(--spacing-lg);padding-bottom:15px;border-bottom:1px solid #f0f0f0}.setting-item label{display:block;margin-bottom:var(--spacing-lg);font-weight:var(--font-weight-medium);color:var(--color-dark);font-size:var(--font-size-md);line-height:1.2}#saveSettingsBtn{order:1;background:var(#28a745);color:var(--color-white);font-weight:var(--font-weight-medium)}#saveSettingsBtn:hover:not(:disabled){background:linear-gradient(135deg,var(--color-success-light),var(--color-info))}#closeSettings{margin-top:var(--spacing-md);background:var(--color-gray);color:var(--color-white);border:none}#closeSettings:hover{background:#5a6268;transform:translateY(-1px)}@media (max-width:1200px){:root{--col-date-sm:calc(85px * var(--col-tablet-factor));--col-date-md:calc(100px * var(--col-tablet-factor));--col-date-lg:calc(115px * var(--col-tablet-factor));--col-text-sm:calc(90px * var(--col-tablet-factor));--col-text-md:calc(120px * var(--col-tablet-factor));--col-text-lg:calc(150px * var(--col-tablet-factor));--col-text-xl:calc(180px * var(--col-tablet-factor));--col-currency-sm:calc(90px * var(--col-tablet-factor));--col-currency-md:calc(110px * var(--col-tablet-factor));--col-currency-lg:calc(130px * var(--col-tablet-factor));--col-currency-xl:calc(150px * var(--col-tablet-factor));--col-actions-sm:calc(120px * var(--col-tablet-factor));--col-actions-md:calc(140px * var(--col-tablet-factor));--col-actions-lg:calc(160px * var(--col-tablet-factor))}.evolution-table,.grant-table,.portfolio-table,.sales-table{font-size:var(--font-size-sm)}.chart-container{height:600px}#portfolioOverviewChart{height:650px}#portfolioChart{max-height:620px}}@media (max-width:768px){:root{--col-date-sm:calc(85px * var(--col-mobile-factor));--col-date-md:calc(100px * var(--col-mobile-factor));--col-date-lg:calc(115px * var(--col-mobile-factor));--col-text-sm:calc(90px * var(--col-mobile-factor));--col-text-md:calc(120px * var(--col-mobile-factor));--col-text-lg:calc(150px * var(--col-mobile-factor));--col-text-xl:calc(180px * var(--col-mobile-factor));--col-currency-sm:calc(90px * var(--col-mobile-factor));--col-currency-md:calc(110px * var(--col-mobile-factor));--col-currency-lg:calc(130px * var(--col-mobile-factor));--col-currency-xl:calc(150px * var(--col-mobile-factor));--col-actions-sm:calc(120px * var(--col-mobile-factor));--col-actions-md:calc(140px * var(--col-mobile-factor));--col-actions-lg:calc(160px * var(--col-mobile-factor))}@media (max-width:768px){body{padding-top:var(--spacing-lg)}.header{margin-right:0}}.header{flex-direction:column;gap:15px;text-align:center;padding:15px}.header-brand{align-items:center}.header-actions{width:100%;justify-content:center}.global-portfolio-stats{grid-template-columns:repeat(2,1fr);gap:15px}.global-portfolio-header{padding:15px}.nav-tabs{overflow-x:auto}.nav-tab{flex:none;min-width:120px}.evolution-table,.grant-table,.portfolio-table,.sales-table{font-size:var(--font-size-xs)}.evolution-table td,.evolution-table th,.grant-table td,.grant-table th,.portfolio-table td,.portfolio-table th,.sales-table td,.sales-table th{padding:var(--spacing-lg) var(--spacing-xs)}.chart-container{height:400px;padding:var(--spacing-sm)}#portfolioOverviewChart{height:420px;padding:var(--spacing-sm)}#portfolioChart{max-height:390px}.chart-legend{flex-direction:column;gap:var(--spacing-sm);align-items:center}.legend-item{justify-content:center}}@media (max-width:480px){.global-portfolio-stats{grid-template-columns:1fr;gap:var(--spacing-md)}.global-portfolio-stats .stat-card:first-child .stat-value{font-size:var(--spacing-lg)}}html{height:100%}body{min-height:100vh}.tab-content.active{display:flex!important;flex-direction:column!important;height:auto!important;overflow:visible!important}.no-data-message{text-align:center}